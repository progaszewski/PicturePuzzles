package pl.picuter.puzzles.windows;

import java.awt.BorderLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.File;

import javax.swing.JFrame;
import javax.swing.JMenu;
import javax.swing.JMenuBar;
import javax.swing.JMenuItem;
import javax.swing.JPanel;
import javax.swing.JSeparator;
import javax.swing.border.EmptyBorder;

import pl.picture.puzzles.common.Puzzle;
import pl.picture.puzzles.fillapix.FillAPixPuzzle;

public class PicturePuzzelsMainFrame extends JFrame {

	private static final long serialVersionUID = 8119467365664162607L;
	private JPanel contentPane;
	private Puzzle puzzle;

	/**
	 * Create the frame.
	 */
	public PicturePuzzelsMainFrame() {
		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		setBounds(100, 100, 450, 300);

		JMenuBar menuBar = new JMenuBar();
		setJMenuBar(menuBar);

		JMenu mnFile = new JMenu(
				Messages.getString("PicturePuzzelsMainFrame.mnFile.text")); //$NON-NLS-1$
		menuBar.add(mnFile);

		JMenuItem mntmOpen = new JMenuItem(
				Messages.getString("PicturePuzzelsMainFrame.mntmOpen.text")); //$NON-NLS-1$
		mntmOpen.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				File selectedPuzzleFile = puzzle.openPuzzle();
				if (selectedPuzzleFile != null) {
					puzzle.drawPazzle(selectedPuzzleFile);
					// pack();
				}
			}
		});
		mnFile.add(mntmOpen);

		JSeparator separator = new JSeparator();
		mnFile.add(separator);

		JMenuItem mntmExit = new JMenuItem(
				Messages.getString("PicturePuzzelsMainFrame.mntmExit.text")); //$NON-NLS-1$
		mntmExit.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				System.exit(0);
			}
		});
		mnFile.add(mntmExit);

		JMenu mPuzzle = new JMenu(
				Messages.getString("PicturePuzzelsMainFrame.mPuzzle.text")); //$NON-NLS-1$
		menuBar.add(mPuzzle);

		JMenuItem mntmFillapix = new JMenuItem(
				Messages.getString("PicturePuzzelsMainFrame.mntmFillapix.text")); //$NON-NLS-1$
		mntmFillapix.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				puzzle = new FillAPixPuzzle();
				replacePanel(puzzle.getPanel());
			}
		});
		mPuzzle.add(mntmFillapix);

		JMenuItem mntmLinkapix = new JMenuItem(
				Messages.getString("PicturePuzzelsMainFrame.mntmLinkapix.text")); //$NON-NLS-1$
		mPuzzle.add(mntmLinkapix);

		JMenuItem mntmPicapix = new JMenuItem(
				Messages.getString("PicturePuzzelsMainFrame.mntmPicapix.text")); //$NON-NLS-1$
		mPuzzle.add(mntmPicapix);

		JMenu mnActions = new JMenu(
				Messages.getString("PicturePuzzelsMainFrame.mnActions.text")); //$NON-NLS-1$
		menuBar.add(mnActions);

		JMenuItem mntmCheck = new JMenuItem(
				Messages.getString("PicturePuzzelsMainFrame.mntmCheck.text")); //$NON-NLS-1$
		mntmCheck.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				puzzle.check();
			}
		});
		mnActions.add(mntmCheck);

		JMenuItem mntmSolve = new JMenuItem(
				Messages.getString("PicturePuzzelsMainFrame.mntmSolve.text")); //$NON-NLS-1$
		mntmSolve.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				puzzle.solve();
			}
		});
		mnActions.add(mntmSolve);

		JMenu mnHelp = new JMenu(
				Messages.getString("PicturePuzzelsMainFrame.mnHelp.text")); //$NON-NLS-1$
		menuBar.add(mnHelp);

		JMenuItem mntmAboutAplication = new JMenuItem(
				Messages.getString("PicturePuzzelsMainFrame.mntmAboutAplication.text")); //$NON-NLS-1$
		mnHelp.add(mntmAboutAplication);
		// domyslna lamiglowka: Fill-a-Pix
		puzzle = new FillAPixPuzzle();
		contentPane = new JPanel();
		contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));
		contentPane.setLayout(new BorderLayout(0, 0));

		// JPanel panel = puzzle.getPanel();
		// contentPane.add(panel, BorderLayout.CENTER);

	}

	private void replacePanel(JPanel panel) {
		//
	}
}
